

<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>Engine Test - KPOP Idol Chemistry</title>
  <style>
    body { font-family: system-ui, sans-serif; margin: 2rem; }
    textarea { width: 100%; height: 6rem; }
    pre { background: #111; color: #0f0; padding: 1rem; border-radius: 8px; overflow-x: auto; }
  </style>
</head>
<body>
  <h1>Engine Test</h1>
  <p>브라우저에서 직접 <code>engine.js</code>를 테스트할 수 있는 간단한 페이지입니다.</p>

  <form id="testForm">
    <label>내 이름: <input id="myName" value="Sophia" /></label><br/>
    <label>아이돌 이름: <input id="idol" value="정국" /></label><br/>
    <label>아이돌 그룹: <input id="group" value="BTS" /></label><br/>
    <label>성별:
      <select id="genderPref">
        <option value="auto">자동</option>
        <option value="male">남자</option>
        <option value="female">여자</option>
      </select>
    </label><br/>
    <label>관계 타입:
      <select id="relation">
        <option value="friend">절친</option>
        <option value="partner">무대 파트너</option>
        <option value="classmate">같은 반 친구</option>
        <option value="drama">드라마 주인공</option>
        <option value="lover" selected>애인</option>
      </select>
    </label><br/>
    <button type="submit">테스트 실행</button>
  </form>

  <h2>결과</h2>
  <pre id="output"></pre>

  <script type="module">
    import { generate } from '../js/generator/engine.js';

    const form = document.getElementById('testForm');
    const output = document.getElementById('output');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const myName = document.getElementById('myName').value.trim();
      const idol = {
        name_kr: document.getElementById('idol').value.trim(),
        group: document.getElementById('group').value.trim(),
        gender: 'male'
      };
      const genderPref = document.getElementById('genderPref').value;
      const relation = document.getElementById('relation').value;

      const result = await generate({ myName, idol, genderPref, relation });
      output.textContent = JSON.stringify(result, null, 2);
    });
  </script>
</body>
</html>